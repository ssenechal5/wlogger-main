Ext.define("com.actility.ajax",{statics:{statusCodeToString:function(b){var a="OK";var c=200;if(typeof(b)=="string"){c=parseInt(b)}else{c=b}switch(c){case 100:a="Continue";break;case 101:a="Switching Protocols";break;case 102:a="Processing";break;case 122:a="Request-URI too long";break;case 200:a="OK";break;case 201:a="Created";break;case 202:a="Accepted";break;case 203:a="Non-Authoritative Information";break;case 204:a="No Content";break;case 205:a="Reset Content";break;case 206:a="Partial Content";break;case 207:a="Multi-Status";break;case 300:a="Multiple Choices";break;case 301:a="Moved Permanently";break;case 302:a="Found";break;case 303:a="See Other";break;case 304:a="Not Modified";break;case 305:a="Use Proxy";break;case 306:a="Switch Proxy";break;case 307:a="Temporary Redirect";break;case 400:a="Bad Request";break;case 401:a="Unauthorized";break;case 402:a="Payment Required";break;case 403:a="Forbidden";break;case 404:a="Not Found";break;case 405:a="Method Not Allowed";break;case 406:a="Not Acceptable";break;case 407:a="Proxy Authentication Required";break;case 408:a="Request Timeout";break;case 409:a="Conflict";break;case 410:a="Gone";break;case 411:a="Length Required";break;case 412:a="Precondition Failed";break;case 413:a="Request Entity Too Large";break;case 414:a="Request-URI Too Long";break;case 415:a="Unsupported Media Type";break;case 416:a="Requested Range Not Satisfiable";break;case 417:a="Expectation Failed";break;case 422:a="Unprocessable Entity";break;case 423:a="Locked";break;case 424:a="Failed Dependency";break;case 425:a="Unordered Collection";break;case 426:a="Upgrade Required";break;case 449:a="Retry With";break;case 450:a="Blocked";break;case 500:a="Internal Server Error";break;case 501:a="Not Implemented";break;case 502:a="Bad Gateway";break;case 503:a="Service Unavailable";break;case 504:a="Gateway Timeout";break;case 505:a="HTTP Version Not Supported";break;case 506:a="Variant Also Negotiates";break;case 507:a="Insufficient Storage";break;case 509:a="Bandwidth Limit Exceeded";break;case 510:a="Not Extended";break;default:a="Unknown";break}return a},request:function(b){var a=b.errorMessage;try{com.actility.ajaxRequest({url:b.url,method:b.method,timeout:com.actility.global.ajaxRequestTimeout,params:b.params,success:function(e,f){if(e.responseText==""){if(e.status>=200&&e.status<300){var d={success:"true"};b.callbackSuccess.call(this,d,b.passthru)}else{b.callbackError.call(this,"ajax response is empty",e,b.passthru)}return}try{var d=Ext.decode(e.responseText)}catch(h){var d={success:true,error:"NOT JSON",data:e.responseText}}if(d.success==true){if((b!=undefined)&&(b.callbackSuccess!==undefined)){b.callbackSuccess.call(this,d,b.passthru)}}else{var g=0;if(typeof(d.errorCode)=="string"){g=parseInt(d.errorCode)}else{g=d.errorCode}if(g>0){d.error=com.actility.locale.translateErrorMessage(g,d.error)}b.callbackError.call(this,d.error,e,b.passthru)}},failure:function(e,f){if(e.status==401){com.actility.specific.extjs.toolManageDisconnection()}if((b!=undefined)&&(b.callbackError!==undefined)){try{var d=Ext.decode(e.responseText)}catch(h){var d={success:true,error:"NOT JSON",data:e.responseText}}var g=0;if(typeof(d.errorCode)=="string"){g=parseInt(d.errorCode)}else{g=d.errorCode}if(g>0){a=com.actility.locale.translateErrorMessage(g,d.error)}b.callbackError.call(this,a,e,b.passthru)}}})}catch(c){console.log('Error: "'+c.message+'" at line: '+c.lineNumber)}},ajaxCall:function(a){Ext.apply(a.params,{none:"none"});com.actility.ajax.request({url:a.url,method:a.method,params:a.params,callbackSuccess:a.callbackSuccess,callbackError:a.callbackError,errorMessage:"request error"})}}});