Ext.define("Ext.ux.LeafletMapView",{extend:"Ext.panel.Panel",alias:"widget.leafletpanel",config:{map:null},redraw:function(){},afterRender:function(c,b){var d=this;var a=false;d.addEvents("mapready");d.callParent(arguments);var e=window.L;if(e==null){d.update("No leaflet library loaded")}else{d.map=L.map(this.getId());d.map.setView([0,0],13);d.setMap(this.map);var f=L.tileLayer(com.actility.global.osmUrl,{minZoom:1,maxZoom:19,maxNativeZoom:18});f.addTo(d.map);f.on("load",function(){if(!this.loaded){d.fireEvent("mapready",d,d.map);this.loaded=true}})}}});