(function(a,c){var b=function(G){if(!(this instanceof b)){return new b(G)}var k=this;var t;var A=[];var g;var B={enable:true,callbackList:[],interval:5};var e=document.getElementsByTagName("script");for(var z=0;z<e.length;z++){if((e[z].src.indexOf("keycloak.js")!==-1||e[z].src.indexOf("keycloak.min.js")!==-1)&&e[z].src.indexOf("version=")!==-1){k.iframeVersion=e[z].src.substring(e[z].src.indexOf("version=")+8).split("&")[0]}}var F=true;k.init=function(L){k.authenticated=false;g=u();var M=["default","cordova","cordova-native"];if(L&&M.indexOf(L.adapter)>-1){t=D(L.adapter)}else{if(L&&typeof L.adapter==="object"){t=L.adapter}else{if(a.Cordova||a.cordova){t=D("cordova")}else{t=D()}}}if(L){if(typeof L.useNonce!=="undefined"){F=L.useNonce}if(typeof L.checkLoginIframe!=="undefined"){B.enable=L.checkLoginIframe}if(L.checkLoginIframeInterval){B.interval=L.checkLoginIframeInterval}if(L.onLoad==="login-required"){k.loginRequired=true}if(L.responseMode){if(L.responseMode==="query"||L.responseMode==="fragment"){k.responseMode=L.responseMode}else{throw"Invalid value for responseMode"}}if(L.flow){switch(L.flow){case"standard":k.responseType="code";break;case"implicit":k.responseType="id_token token";break;case"hybrid":k.responseType="code id_token token";break;default:throw"Invalid value for flow"}k.flow=L.flow}if(L.timeSkew!=null){k.timeSkew=L.timeSkew}if(L.redirectUri){k.redirectUri=L.redirectUri}}if(!k.responseMode){k.responseMode="fragment"}if(!k.responseType){k.responseType="code";k.flow="standard"}var N=d();var I=d();I.promise.success(function(){k.onReady&&k.onReady(k.authenticated);N.setSuccess(k.authenticated)}).error(function(O){N.setError(O)});var K=n(G);function J(){var P=function(Q){if(!Q){O.prompt="none"}k.login(O).success(function(){I.setSuccess()}).error(function(){I.setError()})};var O={};switch(L.onLoad){case"check-sso":if(B.enable){E().success(function(){o().success(function(){P(false)}).error(function(){I.setSuccess()})})}else{P(false)}break;case"login-required":P(true);break;default:throw"Invalid value for onLoad"}}function i(){var O=h(a.location.href);if(O){a.history.replaceState({},null,O.newUrl)}if(O&&O.valid){return E().success(function(){r(O,I)}).error(function(P){I.setError()})}else{if(L){if(L.token&&L.refreshToken){y(L.token,L.refreshToken,L.idToken);if(B.enable){E().success(function(){o().success(function(){k.onAuthSuccess&&k.onAuthSuccess();I.setSuccess()}).error(function(){y(null,null,null);I.setSuccess()})})}else{k.updateToken(-1).success(function(){k.onAuthSuccess&&k.onAuthSuccess();I.setSuccess()}).error(function(){k.onAuthError&&k.onAuthError();if(L.onLoad){J()}else{I.setError()}})}}else{if(L.onLoad){J()}else{I.setSuccess()}}}else{I.setSuccess()}}}K.success(i);K.error(function(){N.setError()});return N.promise};k.login=function(i){return t.login(i)};k.createLoginUrl=function(J){var N=f();var L=f();var O=t.redirectUri(J);var i={state:N,nonce:L,redirectUri:encodeURIComponent(O)};if(J&&J.prompt){i.prompt=J.prompt}g.add(i);var M;if(J&&J.action=="register"){M=k.endpoints.register()}else{M=k.endpoints.authorize()}var K;if(J&&J.scope){if(J.scope.indexOf("openid")!=-1){K=J.scope}else{K="openid "+J.scope}}else{K="openid"}var I=M+"?client_id="+encodeURIComponent(k.clientId)+"&redirect_uri="+encodeURIComponent(O)+"&state="+encodeURIComponent(N)+"&response_mode="+encodeURIComponent(k.responseMode)+"&response_type="+encodeURIComponent(k.responseType)+"&scope="+encodeURIComponent(K);if(F){I=I+"&nonce="+encodeURIComponent(L)}if(J&&J.prompt){I+="&prompt="+encodeURIComponent(J.prompt)}if(J&&J.maxAge){I+="&max_age="+encodeURIComponent(J.maxAge)}if(J&&J.loginHint){I+="&login_hint="+encodeURIComponent(J.loginHint)}if(J&&J.idpHint){I+="&kc_idp_hint="+encodeURIComponent(J.idpHint)}if(J&&J.locale){I+="&ui_locales="+encodeURIComponent(J.locale)}if(J&&J.kcLocale){I+="&kc_locale="+encodeURIComponent(J.kcLocale)}return I};k.logout=function(i){return t.logout(i)};k.createLogoutUrl=function(I){var i=k.endpoints.logout()+"?redirect_uri="+encodeURIComponent(t.redirectUri(I,false));return i};k.register=function(i){return t.register(i)};k.createRegisterUrl=function(i){if(!i){i={}}i.action="register";return k.createLoginUrl(i)};k.createAccountUrl=function(J){var i=s();var I=c;if(typeof i!=="undefined"){I=i+"/account?referrer="+encodeURIComponent(k.clientId)+"&referrer_uri="+encodeURIComponent(t.redirectUri(J))}return I};k.accountManagement=function(){return t.accountManagement()};k.hasRealmRole=function(I){var i=k.realmAccess;return !!i&&i.roles.indexOf(I)>=0};k.hasResourceRole=function(J,I){if(!k.resourceAccess){return false}var i=k.resourceAccess[I||k.clientId];return !!i&&i.roles.indexOf(J)>=0};k.loadUserProfile=function(){var i=s()+"/account";var I=new XMLHttpRequest();I.open("GET",i,true);I.setRequestHeader("Accept","application/json");I.setRequestHeader("Authorization","bearer "+k.token);var J=d();I.onreadystatechange=function(){if(I.readyState==4){if(I.status==200){k.profile=JSON.parse(I.responseText);J.setSuccess(k.profile)}else{J.setError()}}};I.send();return J.promise};k.loadUserInfo=function(){var i=k.endpoints.userinfo();var I=new XMLHttpRequest();I.open("GET",i,true);I.setRequestHeader("Accept","application/json");I.setRequestHeader("Authorization","bearer "+k.token);var J=d();I.onreadystatechange=function(){if(I.readyState==4){if(I.status==200){k.userInfo=JSON.parse(I.responseText);J.setSuccess(k.userInfo)}else{J.setError()}}};I.send();return J.promise};k.isTokenExpired=function(i){if(!k.tokenParsed||(!k.refreshToken&&k.flow!="implicit")){throw"Not authenticated"}if(k.timeSkew==null){console.info("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set");return true}var I=k.tokenParsed.exp-Math.ceil(new Date().getTime()/1000)+k.timeSkew;if(i){I-=i}return I<0};k.updateToken=function(i){var K=d();if(!k.refreshToken){K.setError();return K.promise}i=i||5;var I=function(){var N=false;if(i==-1){N=true;console.info("[KEYCLOAK] Refreshing token: forced refresh")}else{if(!k.tokenParsed||k.isTokenExpired(i)){N=true;console.info("[KEYCLOAK] Refreshing token: token expired")}}if(!N){K.setSuccess(false)}else{var P="grant_type=refresh_token&refresh_token="+k.refreshToken;var M=k.endpoints.token();A.push(K);if(A.length==1){var O=new XMLHttpRequest();O.open("POST",M,true);O.setRequestHeader("Content-type","application/x-www-form-urlencoded");O.withCredentials=true;if(k.clientId&&k.clientSecret){O.setRequestHeader("Authorization","Basic "+btoa(k.clientId+":"+k.clientSecret))}else{P+="&client_id="+encodeURIComponent(k.clientId)}var L=new Date().getTime();O.onreadystatechange=function(){if(O.readyState==4){if(O.status==200){console.info("[KEYCLOAK] Token refreshed");L=(L+new Date().getTime())/2;var R=JSON.parse(O.responseText);y(R.access_token,R.refresh_token,R.id_token,L);k.onAuthRefreshSuccess&&k.onAuthRefreshSuccess();for(var Q=A.pop();Q!=null;Q=A.pop()){Q.setSuccess(true)}}else{console.warn("[KEYCLOAK] Failed to refresh token");if(O.status==400){k.clearToken()}k.onAuthRefreshError&&k.onAuthRefreshError();for(var Q=A.pop();Q!=null;Q=A.pop()){Q.setError(true)}}}};O.send(P)}}};if(B.enable){var J=o();J.success(function(){I()}).error(function(){K.setError()})}else{I()}return K.promise};k.clearToken=function(){if(k.token){y(null,null,null);k.onAuthLogout&&k.onAuthLogout();if(k.loginRequired){k.login({loginHint:"test@"})}}};function s(){if(typeof k.authServerUrl!=="undefined"){if(k.authServerUrl.charAt(k.authServerUrl.length-1)=="/"){return k.authServerUrl+"realms/"+encodeURIComponent(k.realm)}else{return k.authServerUrl+"/realms/"+encodeURIComponent(k.realm)}}else{return c}}function C(){if(!a.location.origin){return a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")}else{return a.location.origin}}function r(O,R){var K=O.code;var P=O.error;var L=O.prompt;var J=new Date().getTime();if(P){if(L!="none"){var I={error:P,error_description:O.error_description};k.onAuthError&&k.onAuthError(I);R&&R.setError(I)}else{R&&R.setSuccess()}return}else{if((k.flow!="standard")&&(O.access_token||O.id_token)){N(O.access_token,null,O.id_token,true)}}if((k.flow!="implicit")&&K){var M="code="+K+"&grant_type=authorization_code";var i=k.endpoints.token();var Q=new XMLHttpRequest();Q.open("POST",i,true);Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(k.clientId&&k.clientSecret){Q.setRequestHeader("Authorization","Basic "+btoa(k.clientId+":"+k.clientSecret))}else{M+="&client_id="+encodeURIComponent(k.clientId)}M+="&redirect_uri="+O.redirectUri;Q.withCredentials=true;Q.onreadystatechange=function(){if(Q.readyState==4){if(Q.status==200){var S=JSON.parse(Q.responseText);N(S.access_token,S.refresh_token,S.id_token,k.flow==="standard")}else{k.onAuthError&&k.onAuthError();R&&R.setError()}}};Q.send(M)}function N(S,T,V,U){J=(J+new Date().getTime())/2;y(S,T,V,J);if(F&&((k.tokenParsed&&k.tokenParsed.nonce!=O.storedNonce)||(k.refreshTokenParsed&&k.refreshTokenParsed.nonce!=O.storedNonce)||(k.idTokenParsed&&k.idTokenParsed.nonce!=O.storedNonce))){console.info("[KEYCLOAK] Invalid nonce, clearing token");k.clearToken();R&&R.setError()}else{if(U){k.onAuthSuccess&&k.onAuthSuccess();R&&R.setSuccess()}}}}function n(J){var Q=d();var P;if(!G){P="keycloak.json"}else{if(typeof G==="string"){P=G}}function I(i){if(!i){k.endpoints={authorize:function(){return s()+"/protocol/openid-connect/auth"},token:function(){return s()+"/protocol/openid-connect/token"},logout:function(){return s()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var R=s()+"/protocol/openid-connect/login-status-iframe.html";if(k.iframeVersion){R=R+"?version="+k.iframeVersion}return R},register:function(){return s()+"/protocol/openid-connect/registrations"},userinfo:function(){return s()+"/protocol/openid-connect/userinfo"}}}else{k.endpoints={authorize:function(){return i.authorization_endpoint},token:function(){return i.token_endpoint},logout:function(){if(!i.end_session_endpoint){throw"Not supported by the OIDC server"}return i.end_session_endpoint},checkSessionIframe:function(){if(!i.check_session_iframe){throw"Not supported by the OIDC server"}return i.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!i.userinfo_endpoint){throw"Not supported by the OIDC server"}return i.userinfo_endpoint}}}}if(P){var O=new XMLHttpRequest();O.open("GET",P,true);O.setRequestHeader("Accept","application/json");O.onreadystatechange=function(){if(O.readyState==4){if(O.status==200||l(O)){var i=JSON.parse(O.responseText);k.authServerUrl=i["auth-server-url"];k.realm=i.realm;k.clientId=i.resource;k.clientSecret=(i.credentials||{})["secret"];I(null);Q.setSuccess()}else{Q.setError()}}};O.send()}else{if(!G.clientId){throw"clientId missing"}k.clientId=G.clientId;k.clientSecret=(G.credentials||{}).secret;var K=G.oidcProvider;if(!K){if(!G.url){var M=document.getElementsByTagName("script");for(var N=0;N<M.length;N++){if(M[N].src.match(/.*keycloak\.js/)){G.url=M[N].src.substr(0,M[N].src.indexOf("/js/keycloak.js"));break}}}if(!G.realm){throw"realm missing"}k.authServerUrl=G.url;k.realm=G.realm;I(null);Q.setSuccess()}else{if(typeof K==="string"){var L;if(K.charAt(K.length-1)=="/"){L=K+".well-known/openid-configuration"}else{L=K+"/.well-known/openid-configuration"}var O=new XMLHttpRequest();O.open("GET",L,true);O.setRequestHeader("Accept","application/json");O.onreadystatechange=function(){if(O.readyState==4){if(O.status==200||l(O)){var i=JSON.parse(O.responseText);I(i);Q.setSuccess()}else{Q.setError()}}};O.send()}else{I(K);Q.setSuccess()}}}return Q.promise}function l(i){return i.status==0&&i.responseText&&i.responseURL.startsWith("file:")}function y(K,J,L,I){if(k.tokenTimeoutHandle){clearTimeout(k.tokenTimeoutHandle);k.tokenTimeoutHandle=null}if(J){k.refreshToken=J;k.refreshTokenParsed=v(J)}else{delete k.refreshToken;delete k.refreshTokenParsed}if(L){k.idToken=L;k.idTokenParsed=v(L)}else{delete k.idToken;delete k.idTokenParsed}if(K){k.token=K;k.tokenParsed=v(K);k.sessionId=k.tokenParsed.session_state;k.authenticated=true;k.subject=k.tokenParsed.sub;k.realmAccess=k.tokenParsed.realm_access;k.resourceAccess=k.tokenParsed.resource_access;if(I){k.timeSkew=Math.floor(I/1000)-k.tokenParsed.iat}if(k.timeSkew!=null){console.info("[KEYCLOAK] Estimated time difference between browser and server is "+k.timeSkew+" seconds");if(k.onTokenExpired){var i=(k.tokenParsed.exp-(new Date().getTime()/1000)+k.timeSkew)*1000;console.info("[KEYCLOAK] Token expires in "+Math.round(i/1000)+" s");if(i<=0){k.onTokenExpired()}else{k.tokenTimeoutHandle=setTimeout(k.onTokenExpired,i)}}}}else{delete k.token;delete k.tokenParsed;delete k.subject;delete k.realmAccess;delete k.resourceAccess;k.authenticated=false}}function v(i){i=i.split(".")[1];i=i.replace("/-/g","+");i=i.replace("/_/g","/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Invalid token"}i=(i+"===").slice(0,i.length+(i.length%4));i=i.replace(/-/g,"+").replace(/_/g,"/");i=decodeURIComponent(escape(atob(i)));i=JSON.parse(i);return i}function f(){var L=[];var I="0123456789abcdef";for(var J=0;J<36;J++){L[J]=I.substr(Math.floor(Math.random()*16),1)}L[14]="4";L[19]=I.substr((L[19]&3)|8,1);L[8]=L[13]=L[18]=L[23]="-";var K=L.join("");return K}k.callback_id=0;function w(){var i="<id: "+(k.callback_id++)+(Math.random())+">";return i}function h(I){var i=j(I);if(!i){return}var J=g.get(i.state);if(J){i.valid=true;i.redirectUri=J.redirectUri;i.storedNonce=J.nonce;i.prompt=J.prompt}return i}function j(I){var K;switch(k.flow){case"standard":K=["code","state","session_state"];break;case"implicit":K=["access_token","token_type","id_token","state","session_state","expires_in"];break;case"hybrid":K=["access_token","id_token","code","state","session_state"];break}K.push("error");K.push("error_description");K.push("error_uri");var M=I.indexOf("?");var J=I.indexOf("#");var L;var i;if(k.responseMode==="query"&&M!==-1){L=I.substring(0,M);i=x(I.substring(M+1,J!==-1?J:I.length),K);if(i.paramsString!==""){L+="?"+i.paramsString}if(J!==-1){L+=I.substring(J)}}else{if(k.responseMode==="fragment"&&J!==-1){L=I.substring(0,J);i=x(I.substring(J+1),K);if(i.paramsString!==""){L+="#"+i.paramsString}}}if(i&&i.oauthParams){if(k.flow==="standard"||k.flow==="hybrid"){if((i.oauthParams.code||i.oauthParams.error)&&i.oauthParams.state){i.oauthParams.newUrl=L;return i.oauthParams}}else{if(k.flow==="implicit"){if((i.oauthParams.access_token||i.oauthParams.error)&&i.oauthParams.state){i.oauthParams.newUrl=L;return i.oauthParams}}}}}function x(M,L){var N=M.split("&");var I={paramsString:"",oauthParams:{}};for(var K=0;K<N.length;K++){var J=N[K].split("=");if(L.indexOf(J[0])!==-1){I.oauthParams[J[0]]=J[1]}else{if(I.paramsString!==""){I.paramsString+="&"}I.paramsString+=N[K]}}return I}function d(){if(typeof Promise==="function"){return p()}else{return H()}}function p(){var i={setSuccess:function(I){i.success=true;i.resolve(I)},setError:function(I){i.success=false;i.reject(I)}};i.promise=new Promise(function(J,I){i.resolve=J;i.reject=I});i.promise.success=function(I){i.promise.then(I);return i.promise};i.promise.error=function(I){i.promise["catch"].call(i.promise,I);return i.promise};return i}function H(){var i={setSuccess:function(I){i.success=true;i.result=I;if(i.successCallback){i.successCallback(I)}},setError:function(I){i.error=true;i.result=I;if(i.errorCallback){i.errorCallback(I)}},promise:{success:function(I){if(i.success){I(i.result)}else{if(!i.error){i.successCallback=I}}return i.promise},error:function(I){if(i.error){I(i.result)}else{if(!i.success){i.errorCallback=I}}return i.promise}}};return i}function E(){var L=d();if(!B.enable){L.setSuccess();return L.promise}if(B.iframe){L.setSuccess();return L.promise}var J=document.createElement("iframe");B.iframe=J;J.onload=function(){var M=k.endpoints.authorize();if(M.charAt(0)==="/"){B.iframeOrigin=C()}else{B.iframeOrigin=M.substring(0,M.indexOf("/",8))}L.setSuccess();setTimeout(i,B.interval*1000)};var K=k.endpoints.checkSessionIframe();J.setAttribute("src",K);J.setAttribute("title","keycloak-session-iframe");J.style.display="none";document.body.appendChild(J);var I=function(O){if((O.origin!==B.iframeOrigin)||(B.iframe.contentWindow!==O.source)){return}if(!(O.data=="unchanged"||O.data=="changed"||O.data=="error")){return}if(O.data!="unchanged"){k.clearToken()}var N=B.callbackList.splice(0,B.callbackList.length);for(var M=N.length-1;M>=0;--M){var P=N[M];if(O.data=="unchanged"){P.setSuccess()}else{P.setError()}}};a.addEventListener("message",I,false);var i=function(){o();if(k.token){setTimeout(i,B.interval*1000)}};return L.promise}function o(){var J=d();if(B.iframe&&B.iframeOrigin){var I=k.clientId+" "+k.sessionId;B.callbackList.push(J);var i=B.iframeOrigin;if(B.callbackList.length==1){B.iframe.contentWindow.postMessage(I,i)}}else{J.setSuccess()}return J.promise}function D(K){if(!K||K=="default"){return{login:function(M){a.location.href=k.createLoginUrl(M);return d().promise},logout:function(M){a.location.href=k.createLogoutUrl(M);return d().promise},register:function(M){a.location.href=k.createRegisterUrl(M);return d().promise},accountManagement:function(){var M=k.createAccountUrl();if(typeof M!=="undefined"){a.location.href=M}else{throw"Not supported by the OIDC server"}return d().promise},redirectUri:function(M,N){if(arguments.length==1){N=true}if(M&&M.redirectUri){return M.redirectUri}else{if(k.redirectUri){return k.redirectUri}else{return location.href}}}}}if(K=="cordova"){B.enable=false;var L=function(O,N,M){if(a.cordova&&a.cordova.InAppBrowser){return a.cordova.InAppBrowser.open(O,N,M)}else{return a.open(O,N,M)}};var I=function(M){if(M&&M.cordovaOptions){return Object.keys(M.cordovaOptions).reduce(function(N,O){N[O]=M.cordovaOptions[O];return N},{})}else{return{}}};var i=function(M){return Object.keys(M).reduce(function(N,O){N.push(O+"="+M[O]);return N},[]).join(",")};var J=function(N){var M=I(N);M.location="no";if(N&&N.prompt=="none"){M.hidden="yes"}return i(M)};return{login:function(O){var T=d();var N=J(O);var S=k.createLoginUrl(O);var R=L(S,"_blank",N);var Q=false;var M=false;var P=function(){M=true;R.close()};R.addEventListener("loadstart",function(U){if(U.url.indexOf("http://localhost")==0){var V=h(U.url);r(V,T);P();Q=true}});R.addEventListener("loaderror",function(U){if(!Q){if(U.url.indexOf("http://localhost")==0){var V=h(U.url);r(V,T);P();Q=true}else{T.setError();P()}}});R.addEventListener("exit",function(U){if(!M){T.setError({reason:"closed_by_user"})}});return T.promise},logout:function(O){var Q=d();var M=k.createLogoutUrl(O);var P=L(M,"_blank","location=no,hidden=yes");var N;P.addEventListener("loadstart",function(R){if(R.url.indexOf("http://localhost")==0){P.close()}});P.addEventListener("loaderror",function(R){if(R.url.indexOf("http://localhost")==0){P.close()}else{N=true;P.close()}});P.addEventListener("exit",function(R){if(N){Q.setError()}else{k.clearToken();Q.setSuccess()}});return Q.promise},register:function(){var M=k.createRegisterUrl();var N=J(options);var O=L(M,"_blank",N);O.addEventListener("loadstart",function(P){if(P.url.indexOf("http://localhost")==0){O.close()}})},accountManagement:function(){var M=k.createAccountUrl();if(typeof M!=="undefined"){var N=L(M,"_blank","location=no");N.addEventListener("loadstart",function(O){if(O.url.indexOf("http://localhost")==0){N.close()}})}else{throw"Not supported by the OIDC server"}},redirectUri:function(M){return"http://localhost"}}}if(K=="cordova-native"){B.enable=false;return{login:function(M){var O=d();var N=k.createLoginUrl(M);universalLinks.subscribe("keycloak",function(Q){universalLinks.unsubscribe("keycloak");a.cordova.plugins.browsertab.close();var P=h(Q.url);r(P,O)});a.cordova.plugins.browsertab.openUrl(N);return O.promise},logout:function(N){var O=d();var M=k.createLogoutUrl(N);universalLinks.subscribe("keycloak",function(P){universalLinks.unsubscribe("keycloak");a.cordova.plugins.browsertab.close();k.clearToken();O.setSuccess()});a.cordova.plugins.browsertab.openUrl(M);return O.promise},register:function(N){var O=d();var M=k.createRegisterUrl(N);universalLinks.subscribe("keycloak",function(Q){universalLinks.unsubscribe("keycloak");a.cordova.plugins.browsertab.close();var P=h(Q.url);r(P,O)});a.cordova.plugins.browsertab.openUrl(M);return O.promise},accountManagement:function(){var M=k.createAccountUrl();if(typeof M!=="undefined"){a.cordova.plugins.browsertab.openUrl(M)}else{throw"Not supported by the OIDC server"}},redirectUri:function(M){if(M&&M.redirectUri){return M.redirectUri}else{if(k.redirectUri){return k.redirectUri}else{return"http://localhost"}}}}}throw"invalid adapter type: "+K}var q=function(){if(!(this instanceof q)){return new q()}localStorage.setItem("kc-test","test");localStorage.removeItem("kc-test");var i=this;function I(){var O=new Date().getTime();for(var L=0;L<localStorage.length;L++){var K=localStorage.key(L);if(K&&K.indexOf("kc-callback-")==0){var N=localStorage.getItem(K);if(N){try{var J=JSON.parse(N).expires;if(!J||J<O){localStorage.removeItem(K)}}catch(M){localStorage.removeItem(K)}}}}}i.get=function(L){if(!L){return}var J="kc-callback-"+L;var K=localStorage.getItem(J);if(K){localStorage.removeItem(J);K=JSON.parse(K)}I();return K};i.add=function(K){I();var J="kc-callback-"+K.state;K.expires=new Date().getTime()+(60*60*1000);localStorage.setItem(J,JSON.stringify(K))}};var m=function(){if(!(this instanceof m)){return new m()}var J=this;J.get=function(M){if(!M){return}var L=i("kc-callback-"+M);I("kc-callback-"+M,"",K(-100));if(L){return JSON.parse(L)}};J.add=function(L){I("kc-callback-"+L.state,JSON.stringify(L),K(60))};J.removeItem=function(L){I(L,"",K(-100))};var K=function(L){var M=new Date();M.setTime(M.getTime()+(L*60*1000));return M};var i=function(O){var M=O+"=";var L=document.cookie.split(";");for(var N=0;N<L.length;N++){var P=L[N];while(P.charAt(0)==" "){P=P.substring(1)}if(P.indexOf(M)==0){return P.substring(M.length,P.length)}}return""};var I=function(N,O,L){var M=N+"="+O+"; expires="+L.toUTCString()+"; ";document.cookie=M}};function u(){try{return new q()}catch(i){}return new m()}};if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=b}else{a.Keycloak=b;if(typeof define==="function"&&define.amd){define("keycloak",[],function(){return b})}}})(window);